/*!
 * simplebinder - simplebinder is a zero dependency one-way databinder for javascript.
 * @version v1.2.0
 * @link https://james2doyle.github.io/simplebinder
 * @license 
 * @copyright (c) 9/3/2015 James Doyle (http://ohdoylerules.com/)
 */
!function(){window.SimpleBinder=function(t,o,e){"string"==typeof t&&(t=[t]),Array.prototype.slice.call(t,0).forEach(function(t){function n(){p=document.querySelectorAll(m.join(",")),u=p.length}function r(t){m.push('[data-controller="'+t+'"]'),n()}function c(){a=document.querySelectorAll(v.join(",")),d=a.length}function i(t){v.push('[data-model="'+t+'"]'),c()}function l(){for(var t=0;u>t;t++)y="radio"===p[t].type||"checkbox"===p[t].type||-1!==p[t].type.indexOf("select")?"change":"input",p[t].addEventListener(y,f)}function f(){for(var t=0;d>t;t++)a[t][h]=this[s].toString();g&&"function"==typeof g&&g(this,a[t])}var a,p,u,d,y,s="object"==typeof o&&o.watch?o.watch:"value",h="object"==typeof o&&o.change?o.change:"textContent",g="function"==typeof o?o:e,v=[],m=[],w=function(){"string"==typeof t?(r(t),i(t)):(r(t.dataset.controller),i(t.dataset.controller)),l()};return w.prototype.controllers=m,w.prototype.models=v,w.prototype.destroy=function(){for(var t=0;u>t;t++)p[t].removeEventListener(y,f)},w.prototype.addModel=function(t){i(t),l()},w.prototype.addController=function(t){r(t),l()},new w})}}();